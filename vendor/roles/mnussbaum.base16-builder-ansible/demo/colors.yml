---
- hosts: all
  roles:
    - mnussbaum.base16-builder-ansible
  tasks:
    - set_fact:
        # base16_theme: twilight
        base16_theme: unikitty-dark

    - name: Generate base16-shell config
      base16_builder:
        scheme: "{{ base16_theme }}"
        template: shell
      register: base16_shell

    - name: Write base16-shell theme to a location sourced by my ZSH profile
      copy:
        content: "{{ base16_shell['schemes'][base16_theme]['shell']['scripts']['base16-' + base16_theme + '.sh'] }}"
        dest: ~/.config/zsh/base16-colors.zsh

    - name: Generate base16-i3 config
      base16_builder:
        scheme: "{{ base16_theme }}"
        template: i3
      register: base16_i3

    - name: Render my i3 config using the base16 theme from above
      template:
        src: templates/i3_config.j2
        dest: ~/.config/i3/config

    - name: Generate base16-vim config
      base16_builder:
        scheme: "{{ base16_theme }}"
        template: vim
      register: base16_vim

    - name: Write neovim colorscheme config using the base16 theme from above
      copy:
        content: "{{ base16_vim['schemes'][base16_theme]['vim']['colors']['base16-' + base16_theme + '.vim'] }}"
        dest: ~/.config/nvim/plugin/colors.vim

# vim:ft=ansible:
